# ๐ค ูุธุงู ุงููููุงุก ุงูุฐููุฉ - AI Agents System

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ูููุงุก ุฐููุฉ ูุชูุฏู ูุจูู ุนูู **AutoGen** ูุชูุญ ูู ุฅุฏุงุฑุฉ ููุตุงุช ุงูุชูุงุตู ุงูุงุฌุชูุงุนู ุจุฐูุงุก ุงุตุทูุงุนู.

### ุงูููููุงุช ุงูุฑุฆูุณูุฉ:

1. **ุงููููู ุงูุฑุฆูุณู (Main Agent)** - ููุณู ุงูุนูู ููุญูู ุงูููุงูุง
2. **ูููู X (X Agent)** - ูุชุฎุตุต ูู ุฅุฏุงุฑุฉ ููุตุฉ X/Twitter
3. **ูุธุงู ุชุญููู ุงูููุงูุง (Intent System)** - ูููู ุทูุจุงุช ุงููุณุชุฎุฏู
4. **ุฃุฏูุงุช ูุชุฎุตุตุฉ (Tools)** - ุชููุฐ ุงูููุงู ุงููุนููุฉ

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### 1. ุงูุชุซุจูุช

ุงูููุชุจุงุช ูุซุจุชุฉ ุจุงููุนู! โ

### 2. ุงูุฅุนุฏุงุฏุงุช

ุงูุณุฎ ููู `.env.agents` ูุนุฏู ุงูุฅุนุฏุงุฏุงุช:

```bash
cp .env.agents .env
```

**ุฅุนุฏุงุฏุงุช OpenAI:**
```env
LLM_API_TYPE=openai
OPENAI_API_KEY=sk-your-key-here
OPENAI_MODEL=gpt-4
```

**ุฃู ุงุณุชุฎุฏู ูููุฐุฌ ูุญูู (Ollama):**
```env
LLM_API_TYPE=ollama
OLLAMA_MODEL=llama2
OLLAMA_BASE_URL=http://localhost:11434/v1
```

### 3. ุงูุชุดุบูู

```bash
# ุชุดุบูู ุงูุฎุงุฏู
python app/main.py

# ูู ูุงูุฐุฉ ุฃุฎุฑู - ุงุฎุชุจุงุฑ ุงููุธุงู
python test_agents.py
```

---

## ๐ฏ ููู ูุนูู ุงููุธุงูุ

### ุชุฏูู ุงูุนูู:

```
ุงููุณุชุฎุฏู
   โ
   ๐ "ุฃุถู ุญุณุงุจ ุชููุชุฑ"
   โ
ุงููููู ุงูุฑุฆูุณู (Main Agent)
   โ
   ๐ฏ ุชุญููู ุงูููุฉ โ "add_account"
   โ
   ๐ ุชุญุฏูุฏ ุงูููุตุฉ โ "twitter/x"
   โ
ูููู X (X Agent)
   โ
   ๐ง ุงุณุชุฎุฏุงู ุฃุฏุงุฉ x_login
   โ
   โ ุชูููุฐ ุงูุนูููุฉ
   โ
   ๐ค ุฅุฑุฌุงุน ุงููุชูุฌุฉ
```

---

## ๐ก API Endpoints

### 1๏ธโฃ ุฅุฑุณุงู ุฑุณุงูุฉ ูููููู

**Endpoint:** `POST /api/agent/message`

**Request:**
```json
{
  "message": "ุฃุถู ุญุณุงุจ ุชููุชุฑ ุจุงุณู test_user",
  "user_id": 1,
  "context": {}
}
```

**Response:**
```json
{
  "success": true,
  "message": "ุณุฃููู ุจุฅุถุงูุฉ ุญุณุงุจ ุชููุชุฑ ูู...",
  "intent_result": {
    "intent": "add_account",
    "confidence": 0.95,
    "platform": "twitter",
    "entities": {}
  },
  "agent": "X_Agent",
  "timestamp": "2024-01-21T23:00:00"
}
```

### 2๏ธโฃ ูุญุต ุตุญุฉ ุงููุธุงู

**Endpoint:** `GET /api/agent/health`

**Response:**
```json
{
  "status": "healthy",
  "main_agent": "initialized",
  "timestamp": "2024-01-21T23:00:00"
}
```

### 3๏ธโฃ ุฅุนุงุฏุฉ ุชุนููู ุงููุธุงู

**Endpoint:** `POST /api/agent/reset`

---

## ๐๏ธ ุงููููุงุก ูุงูุฃุฏูุงุช

### ุงููููู ุงูุฑุฆูุณู (Main Agent)

**ุงูููุงู:**
- ุงุณุชูุจุงู ุฑุณุงุฆู ุงููุณุชุฎุฏููู
- ุชุญููู ุงูููุงูุง ุจุงุณุชุฎุฏุงู Intent System
- ุชูุฌูู ุงูุทูุจุงุช ูููููุงุก ุงููุฑุนููู
- ุชูุณูู ุงูุนูู ุจูู ุงููููุงุก

**ุงูุฃุฏูุงุช:**
- `detect_user_intent` - ุชุญููู ููุฉ ุงููุณุชุฎุฏู

---

### ูููู X (X Agent)

**ุงูููุงู:**
- ุชุณุฌูู ุงูุฏุฎูู ุฅูู ุญุณุงุจุงุช X
- ูุดุฑ ุงูุชุบุฑูุฏุงุช
- ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู
- ุฅุฏุงุฑุฉ ุงูุญุณุงุจุงุช ุงููุชุนุฏุฏุฉ

**ุงูุฃุฏูุงุช:**

#### 1. `x_login` - ุชุณุฌูู ุงูุฏุฎูู
```python
{
  "username": "test_user",
  "password": "password123",
  "label": "my_account",
  "headless": true
}
```

#### 2. `x_post` - ูุดุฑ ุชุบุฑูุฏุฉ
```python
{
  "label": "my_account",
  "text": "ูุฑุญุจุงู ุจุงูุฌููุน!",
  "media_path": "/path/to/image.jpg"  # ุงุฎุชูุงุฑู
}
```

#### 3. `x_update_profile` - ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู
```python
{
  "label": "my_account",
  "name": "ุงุณู ุฌุฏูุฏ",
  "bio": "ุณูุฑุฉ ุฐุงุชูุฉ ุฌุฏูุฏุฉ",
  "banner_path": "/path/to/banner.jpg",
  "avatar_path": "/path/to/avatar.jpg"
}
```

---

## ๐ฌ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ูุซุงู 1: ุฅุถุงูุฉ ุญุณุงุจ

**Input:**
```json
{
  "message": "ุฃุถู ุญุณุงุจ ุชููุชุฑ ุจุงุณู ุงููุณุชุฎุฏู test_user ููููุฉ ุงููุฑูุฑ pass123"
}
```

**Output:**
```json
{
  "success": true,
  "message": "ุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ ูุญูุธ ุงูุญุณุงุจ",
  "agent": "X_Agent"
}
```

---

### ูุซุงู 2: ูุดุฑ ุชุบุฑูุฏุฉ

**Input:**
```json
{
  "message": "ุงูุดุฑ ุชุบุฑูุฏุฉ 'ูุฑุญุจุงู ุจุงูุฌููุน!' ุนูู ุญุณุงุจ test_user"
}
```

**Output:**
```json
{
  "success": true,
  "message": "ุชู ูุดุฑ ุงูุชุบุฑูุฏุฉ ุจูุฌุงุญ",
  "agent": "X_Agent"
}
```

---

### ูุซุงู 3: ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู

**Input:**
```json
{
  "message": "ุญุฏุซ ุงูููู ุงูุดุฎุตู ุจุงูุงุณู 'ุงุณู ุฌุฏูุฏ' ูุงูุณูุฑุฉ 'ูุทูุฑ ุจุฑูุฌูุงุช'"
}
```

**Output:**
```json
{
  "success": true,
  "message": "ุชู ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู ุจูุฌุงุญ",
  "agent": "X_Agent"
}
```

---

### ูุซุงู 4: ุงููุณุงุนุฏุฉ

**Input:**
```json
{
  "message": "ุณุงุนุฏูู"
}
```

**Output:**
```json
{
  "success": true,
  "message": "ูุฑุญุจุงู! ูููููู ูุณุงุนุฏุชู ูู:\n\n๐ฑ ุฅุฏุงุฑุฉ ุงูุญุณุงุจุงุช...",
  "agent": "Main_Agent"
}
```

---

## ๐ง ุงููููู ุงูุจุฑูุฌู

```
app/
โโโ agents/
โ   โโโ __init__.py
โ   โโโ main_agent.py       # ุงููููู ุงูุฑุฆูุณู
โ   โโโ x_agent.py          # ูููู ููุตุฉ X
โ   โโโ tools.py            # ุงูุฃุฏูุงุช ุงููุดุชุฑูุฉ
โ   โโโ config.py           # ุงูุฅุนุฏุงุฏุงุช
โ   โโโ agent_manager.py    # ูุฏูุฑ ุงููููุงุก (Singleton)
โ
โโโ api/
โ   โโโ agent_routes.py     # API endpoints
โ
โโโ services/
    โโโ intent_service.py   # ุฎุฏูุฉ ุชุญููู ุงูููุงูุง
```

---

## ๐จ ุงูุชูุงูู ูุน n8n

### Workflow ููุชุฑุญ:

```
1. [Webhook] ุงุณุชูุจุงู ุฑุณุงูุฉ ุงููุณุชุฎุฏู
   โ
2. [HTTP Request] ุฅุฑุณุงู ูููููู
   POST http://localhost:5789/api/agent/message
   Body: {"message": "={{$json.message}}"}
   โ
3. [Function] ูุนุงูุฌุฉ ุงูุฑุฏ
   const response = $json.message;
   const intent = $json.intent_result.intent;
   โ
4. [Switch] ุชูุฌูู ุญุณุจ ุงููุชูุฌุฉ
   - success = true โ ุฅุฑุณุงู ุฑุฏ ุฅูุฌุงุจู
   - success = false โ ุฅุฑุณุงู ุฑุณุงูุฉ ุฎุทุฃ
   โ
5. [Respond to Webhook] ุฅุฑุณุงู ุงูุฑุฏ
```

### ูุซุงู HTTP Request ูู n8n:

```javascript
// Method: POST
// URL: http://localhost:5789/api/agent/message
// Body:
{
  "message": "={{$json.user_message}}",
  "user_id": "={{$json.user_id}}"
}

// Response:
// ุงุณุชุฎุฏู {{$json.message}} ููุญุตูู ุนูู ุฑุฏ ุงููููู
// ุงุณุชุฎุฏู {{$json.intent_result.intent}} ููุนุฑูุฉ ุงูููุฉ
// ุงุณุชุฎุฏู {{$json.agent}} ููุนุฑูุฉ ุงููููู ุงูุฐู ุนุงูุฌ ุงูุทูุจ
```

---

## ๐ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

### ุฅุนุฏุงุฏุงุช LLM:

| ุงููุชุบูุฑ | ุงููุตู | ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ |
|---------|-------|-------------------|
| `LLM_API_TYPE` | ููุน API (openai, azure, ollama, lmstudio) | `openai` |
| `OPENAI_API_KEY` | ููุชุงุญ OpenAI API | - |
| `OPENAI_MODEL` | ูููุฐุฌ OpenAI | `gpt-4` |
| `LLM_TEMPERATURE` | ุฏุฑุฌุฉ ุงูุฅุจุฏุงุน (0-1) | `0.7` |
| `LLM_TIMEOUT` | ูููุฉ ุงูุทูุจ (ุซูุงูู) | `120` |

### ุฅุนุฏุงุฏุงุช ุงููููุงุก:

| ุงููุชุบูุฑ | ุงููุตู | ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ |
|---------|-------|-------------------|
| `AGENT_MAX_REPLIES` | ุฃูุตู ุนุฏุฏ ุฑุฏูุฏ ุชููุงุฆูุฉ | `10` |
| `AGENT_HUMAN_INPUT_MODE` | ูุถุน ุงูุชุฏุฎู ุงูุจุดุฑู | `NEVER` |

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "ุฎุทุฃ ูู ุงูุชููุฆุฉ"

**ุงูุญู:**
1. ุชุญูู ูู ููู `.env.agents`
2. ุชุฃูุฏ ูู ุตุญุฉ `OPENAI_API_KEY`
3. ุฃู ุงุณุชุฎุฏู ูููุฐุฌ ูุญูู (Ollama)

### ุงููุดููุฉ: "ุงููููู ูุง ูุณุชุฌูุจ"

**ุงูุญู:**
1. ุชุญูู ูู ุชุดุบูู ุงูุฎุงุฏู: `python app/main.py`
2. ุงูุญุต ุตุญุฉ ุงููุธุงู: `GET /api/agent/health`
3. ุฃุนุฏ ุชุนููู ุงููุธุงู: `POST /api/agent/reset`

### ุงููุดููุฉ: "ูุดู ุชุณุฌูู ุงูุฏุฎูู ุฅูู X"

**ุงูุญู:**
1. ุชุญูู ูู ุตุญุฉ ุจูุงูุงุช ุงูุงุนุชูุงุฏ
2. ุชุฃูุฏ ูู ุชุดุบูู X API: `http://localhost:5789/api/login`
3. ุฑุงุฌุน ููู `app/x/modules/x_login.py`

---

## ๐ ุงูููุงูุง ุงููุฏุนููุฉ

### ุฅุฏุงุฑุฉ ุงูุญุณุงุจุงุช:
- `add_account` - ุฅุถุงูุฉ ุญุณุงุจ
- `remove_account` - ุญุฐู ุญุณุงุจ
- `list_accounts` - ุนุฑุถ ุงูุญุณุงุจุงุช
- `switch_account` - ุงูุชุจุฏูู ุจูู ุงูุญุณุงุจุงุช

### ุฅุฏุงุฑุฉ ุงููุญุชูู:
- `create_post` - ูุดุฑ ููุดูุฑ
- `schedule_post` - ุฌุฏููุฉ ููุดูุฑ
- `delete_post` - ุญุฐู ููุดูุฑ
- `edit_post` - ุชุนุฏูู ููุดูุฑ

### ุงูุชุญูููุงุช:
- `get_analytics` - ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช
- `get_engagement` - ูุนุฏู ุงูุชูุงุนู
- `get_followers` - ุนุฏุฏ ุงููุชุงุจุนูู

### ุนุงู:
- `help` - ุงููุณุงุนุฏุฉ
- `greeting` - ุชุญูุฉ

---

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ูููุงุก ูุงุฏูุฉ:
- โ X Agent (ููุชูู)
- ๐ Instagram Agent (ูุฑูุจุงู)
- ๐ Facebook Agent (ูุฑูุจุงู)
- ๐ LinkedIn Agent (ูุฑูุจุงู)

### ููุฒุงุช ูุงุฏูุฉ:
- ๐ ุฌุฏููุฉ ุงูููุดูุฑุงุช ุงูุชููุงุฆูุฉ
- ๐ ุชุญูููุงุช ูุชูุฏูุฉ
- ๐ ุงูุฑุฏ ุงูุชููุงุฆู ุนูู ุงูุชุนูููุงุช
- ๐ ุฅุฏุงุฑุฉ ุงูุญููุงุช ุงูุฅุนูุงููุฉ

---

## ๐ ุงูุฏุนู

ูููุฒูุฏ ูู ุงููุนูููุงุช:
- `test_agents.py` - ุฃูุซูุฉ ุงูุงุฎุชุจุงุฑ
- `app/agents/` - ููุฏ ุงููููุงุก
- `INTENT_API_README.md` - ุฏููู Intent System

---

## โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู!

ุงููุธุงู ุฌุงูุฒ ุงูุขู! ๐

**ุงูุฎุทูุงุช ุงูุชุงููุฉ:**
1. ุนุฏู ููู `.env.agents` ุจููุชุงุญ API ุงูุฎุงุต ุจู
2. ุดุบู ุงูุฎุงุฏู: `python app/main.py`
3. ุงุฎุชุจุฑ ุงููุธุงู: `python test_agents.py`
4. ุงุฏูุฌ ูุน n8n ุฃู ูุงุฌูุชู ุงูุฎุงุตุฉ

**ุงุณุชูุชุน ุจุฅุฏุงุฑุฉ ููุตุงุช ุงูุชูุงุตู ุจุฐูุงุก ุงุตุทูุงุนู!** ๐
